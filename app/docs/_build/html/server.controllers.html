

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>server.controllers package &mdash; CRM 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> CRM
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">API Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">End Points</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CRM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>server.controllers package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/server.controllers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server-controllers-package">
<h1>server.controllers package<a class="headerlink" href="#server-controllers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-server.controllers.authentication_controller">
<span id="server-controllers-authentication-controller-module"></span><h2>server.controllers.authentication_controller module<a class="headerlink" href="#module-server.controllers.authentication_controller" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="server.controllers.authentication_controller.login">
<code class="sig-name descname">login</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.authentication_controller.login" title="Permalink to this definition">¶</a></dt>
<dd><dl class="post">
<dt id="post--login">
<code class="sig-name descname">POST </code><code class="sig-name descname">/login</code><a class="headerlink" href="#post--login" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Function that given a email and a password as headers it checks if there
is a user in the database and generates a token.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The token</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="server.controllers.authentication_controller.oauth_authorize">
<code class="sig-name descname">oauth_authorize</code><span class="sig-paren">(</span><em class="sig-param">provider</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.authentication_controller.oauth_authorize" title="Permalink to this definition">¶</a></dt>
<dd><dl class="get">
<dt id="get--login--provider-">
<code class="sig-name descname">GET </code><code class="sig-name descname">/login/&lt;provider&gt;</code><a class="headerlink" href="#get--login--provider-" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Function that given a provider from the available providers (google and
facebook) it will return the uri to go to login with the third party OAuth
provider.</p>
<dl>
<dt>Return example:</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“uri”: “<a class="reference external" href="https://uri-of-provider">https://uri-of-provider</a>”</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The uri</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="server.controllers.authentication_controller.oauth_callback">
<code class="sig-name descname">oauth_callback</code><span class="sig-paren">(</span><em class="sig-param">provider</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.authentication_controller.oauth_callback" title="Permalink to this definition">¶</a></dt>
<dd><dl class="get">
<dt id="get--login--provider--callback">
<code class="sig-name descname">GET </code><code class="sig-name descname">/login/&lt;provider&gt;/callback</code><a class="headerlink" href="#get--login--provider--callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Callback endpoint that will be called after the user logs in with the third
party OAuth provider. It will get the user eamil and check if it is in the
system, generates a token and return it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The token</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-server.controllers.customer_controller">
<span id="server-controllers-customer-controller-module"></span><h2>server.controllers.customer_controller module<a class="headerlink" href="#module-server.controllers.customer_controller" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="server.controllers.customer_controller.delete_customer">
<code class="sig-name descname">delete_customer</code><span class="sig-paren">(</span><em class="sig-param">customer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.customer_controller.delete_customer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="delete">
<dt id="delete--customers-(int-customer_id)">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/customers/</code><span class="sig-paren">(</span><em class="property">int: </em><em class="sig-param">customer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#delete--customers-(int-customer_id)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Function that given the customer id it deletes it.</p>
<p>This endpoint is protected and only users can use it by passing their
authentication token through the Authorization Header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>customer_id</strong> (<em>int</em>) – the id of the customer.</p>
</dd>
<dt class="field-even">Reqheader Authorization</dt>
<dd class="field-even"><p>Bearer token</p>
</dd>
<dt class="field-odd">Reqheader Authorization</dt>
<dd class="field-odd"><p>Bearer token</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="server.controllers.customer_controller.get_all_customers">
<code class="sig-name descname">get_all_customers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.customer_controller.get_all_customers" title="Permalink to this definition">¶</a></dt>
<dd><dl class="get">
<dt id="get--customers-">
<code class="sig-name descname">GET </code><code class="sig-name descname">/customers/</code><a class="headerlink" href="#get--customers-" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Function that returns all the customers.</p>
<p>This endpoint is protected and only users can use it by passing their
authentication token through the Authorization Header.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The Customers.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list.</p>
</dd>
<dt class="field-odd">Reqheader Authorization</dt>
<dd class="field-odd"><p>Bearer token</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="server.controllers.customer_controller.get_customer">
<code class="sig-name descname">get_customer</code><span class="sig-paren">(</span><em class="sig-param">customer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.customer_controller.get_customer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="get">
<dt id="get--customers-(int-customer_id)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/customers/</code><span class="sig-paren">(</span><em class="property">int: </em><em class="sig-param">customer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#get--customers-(int-customer_id)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Function that given an id it returns the customer.</p>
<p>This endpoint is protected and only users can use it by passing their
authentication token through the Authorization Header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>customer_id</strong> (<em>int</em>) – the id of the customer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The customer</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="server.models.html#server.models.customer.Customer" title="server.models.customer.Customer">Customer</a></p>
</dd>
<dt class="field-even">Reqheader Authorization</dt>
<dd class="field-even"><p>Bearer token</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="server.controllers.customer_controller.post_customer">
<code class="sig-name descname">post_customer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.customer_controller.post_customer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="post">
<dt id="post--customers">
<code class="sig-name descname">POST </code><code class="sig-name descname">/customers</code><a class="headerlink" href="#post--customers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Function that given the customer data it creates it.</p>
<p>This endpoint is protected and only users can use it by passing their
authentication token through the Authorization Header.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="s1">&#39;email@example.com&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;surname&#39;</span><span class="p">:</span> <span class="s1">&#39;surname&#39;</span><span class="p">,</span>
    <span class="s1">&#39;photo&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;str_image&#39;</span><span class="p">:</span> <span class="s1">&#39;aXk39jacml&#39;</span><span class="p">,</span>
        <span class="s1">&#39;extension&#39;</span><span class="p">:</span> <span class="s1">&#39;jpg&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>body</strong> (<em>dict</em>) – the data of the customer sent in the body of the request.</p>
</dd>
<dt class="field-even">Reqheader Authorization</dt>
<dd class="field-even"><p>Bearer token</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="server.controllers.customer_controller.put_customer">
<code class="sig-name descname">put_customer</code><span class="sig-paren">(</span><em class="sig-param">customer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.customer_controller.put_customer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="put">
<dt id="put--customers-(int-customer_id)">
<code class="sig-name descname">PUT </code><code class="sig-name descname">/customers/</code><span class="sig-paren">(</span><em class="property">int: </em><em class="sig-param">customer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#put--customers-(int-customer_id)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Function that given the customer_id it updates it with the data sent in the
body of the request.</p>
<p>This endpoint is protected and only users can use it by passing their
authentication token through the Authorization Header.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;surname&#39;</span><span class="p">:</span> <span class="s1">&#39;surname&#39;</span><span class="p">,</span>
    <span class="s1">&#39;photo&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;str_image&#39;</span><span class="p">:</span> <span class="s1">&#39;aXk39jacml&#39;</span><span class="p">,</span>
        <span class="s1">&#39;extension&#39;</span><span class="p">:</span> <span class="s1">&#39;jpg&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>customer_id</strong> (<em>int</em>) – the id of the customer.</p></li>
<li><p><strong>body</strong> (<em>dict</em>) – the data of the customer sent in the body of the request.</p></li>
</ul>
</dd>
<dt class="field-even">Reqheader Authorization</dt>
<dd class="field-even"><p>Bearer token</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-server.controllers.decorators">
<span id="server-controllers-decorators-module"></span><h2>server.controllers.decorators module<a class="headerlink" href="#module-server.controllers.decorators" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="server.controllers.decorators.check_user_token">
<code class="sig-name descname">check_user_token</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.decorators.check_user_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="server.controllers.decorators.validate_schema">
<code class="sig-name descname">validate_schema</code><span class="sig-paren">(</span><em class="sig-param">schema</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.decorators.validate_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-server.controllers.token_managment">
<span id="server-controllers-token-managment-module"></span><h2>server.controllers.token_managment module<a class="headerlink" href="#module-server.controllers.token_managment" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="server.controllers.token_managment.decode_token">
<code class="sig-name descname">decode_token</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.token_managment.decode_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="server.controllers.token_managment.get_user_id_from_token">
<code class="sig-name descname">get_user_id_from_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.token_managment.get_user_id_from_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="server.controllers.token_managment.process_token">
<code class="sig-name descname">process_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.controllers.token_managment.process_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-server.controllers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-server.controllers" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Carlos Espino Timón

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>